#config_version=5

hardware:
  platform: fast
  driverboards: fast
  rgb_dmd: smartmatrix

smartmatrix:
  smartmatrix_1:
    port: "/dev/ttyUSB4"
    baud: 4000000
    old_cookie: false

displays:
  window:
    width: 600
    height: 200
  dmd:
    width: 128
    height: 32
    default: true

window:
  width: 600
  height: 200
  title: Mission Pinball Framework vDMD

slides:
  window_slide_1:
    - type: display
      effects:
      - type: color_dmd
      width: 512
      height: 128
    - type: text
      text: MISSION PINBALL FRAMEWORK
      anchor_y: top
      y: top-3
      font_size: 30
      color: white
    - type: rectangle
      width: 514
      height: 130
      color: 444444

  dmd_slide_1:
    - type: text
      text: MISSION PINBALL FRAMEWORK
      anchor_y: top
      y: top-3
      font_size: 30
      color: white
    - type: rectangle
      width: 128
      height: 32
      color: 444444

slide_player:
  init_done:
    window_slide_1:
      target: window
      slide: window_slide_1
      priority: 100
      
rgb_dmds:
  smartmatrix_1:
    hardware_brightness: 0.3
    fps: 20
    source_display: dmd  

fast:
  ports: /dev/ttyUSB1, /dev/ttyUSB2
  debug: True

config:
- machine-config.yaml

event_player:
  game_started: reset_left_varitarget, reset_right_varitarget
